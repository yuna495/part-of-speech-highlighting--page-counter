# 日本語 品詞カラー表示＋ページカウンタ

**日本語テキスト向け**の VS Code 拡張です。

- **品詞カラー表示**：`kuromoji` による形態素解析で、品詞ごとに**文字色**を付与

- **ページカウンタ**：原稿用紙風（行×列）で折り返し、**禁則処理**（行頭禁則）に対応

- **選択文字数表示**：選択範囲があればその文字数を表示、なければ全体文字数を表示

- **全角スペース表示**：全角スペース（　）に背景色を付与（既定は `rgba(255, 0, 0, 0.1)`）


* * *

## デモ

（スクリーンショットをここに貼ってください）

- 品詞ごとに文字色が変わる

- 全角スペースが淡く赤色で表示される

- ステータスバー左側に `現在ページ/総ページ｜行｜字（行×列）` が表示される


* * *

## 機能

- **品詞カラー表示（文字色）**

  - `名詞/動詞/形容詞/副詞/助詞/助動詞/連体詞/接続詞/感動詞/接頭詞/その他` をキーに色を割当て

  - 設定で任意のカラーコード／`inherit`／空文字を指定可能

- **ページカウンタ**

  - `rowsPerPage × colsPerRow`（例：40×40）で折り返し

  - 行頭禁則処理に対応

  - ステータスバーに `現在ページ/総ページ｜行｜字（行×列）` を表示

- **選択文字数**

  - 選択があるときは選択範囲の文字数を表示

  - 改行（LF）は文字数に含めない

- **全角スペース表示**

  - 　 に背景色を付与

  - 色は設定から変更可能


* * *

## コマンド

- **POS/Page: 品詞ハイライト 有効/無効**

- **POS/Page: ページカウンタ 有効/無効**

- **POS/Page: 解析を再適用**

- **POS/Page: 行×列を設定**


* * *

## 設定

キー

既定値

説明

`posPage.applyToTxtOnly`

`true`

`.txt` のみ対象

`posPage.debounceMs`

`200`

入力中の再解析ディレイ（ms）

`posPage.enabledPos`

`true`

品詞カラー表示の有効化

`posPage.colors`

品詞→色のマップ

`posPage.enabledPage`

`true`

ページカウンタ有効化

`posPage.page.rowsPerPage`

`20`

1ページの行数

`posPage.page.colsPerRow`

`20`

1行の文字数

`posPage.kinsoku.enabled`

`true`

行頭禁則を有効にする

`posPage.suspendWindowLines`

`5`

入力中に残す前後行数（他は装飾停止）

`posPage.fullwidthSpace.background`

`#ff000055`

全角スペースの背景色

* * *

// settings.json の例: 好みで上書きできます
"editor.semanticTokenColorCustomizations": {
  "rules": {
    // 名詞をテーマ既定のままにしたい → 何も書かない（= inherit）
    "noun": "#a0d9ff",           // 例: 名詞を水色に
    "verb": "#11ff84",           // 動詞（デフォルト同じ、ここで別色にしてもOK）
    "adjective": "#ffd900",      // 形容詞
    "adverb": "#f94446",         // 副詞
    "particle": "#f6f7f8",       // 助詞
    "auxiliary": "#cccccc",      // 例: 助動詞に薄灰（デフォルトでは未設定=inherit）
    "prenoun": "#c0ffa0",        // 例: 連体詞に薄緑
    "conjunction": "#ff14e0",    // 接続詞
    "interjection": "#ffb3b3",   // 例: 感動詞に淡赤
    "other": "#888888"           // 例: その他にグレー
    "bracket": "#fd9bcc",         // 括弧と中身
    "fwspace": { "underline": true }, // 全角スペース（背景は不可）
    // 必要なら fwspace に色（前景）も指定できるが、背景にはならない点に注意
    // "fwspace": "#ff0000"
    // 接頭詞(kuromojiの「接頭」)は現在「modifier」として付与しています。
    // 特定の組合せだけ色を変えたい場合は `type.modifier` の形で指定できます（例: "noun.prefix": "#ff8800"）。
  }
}

## 推奨ワークフロー

- `.txt` を対象にした小説や論文の執筆

- 入力中はカーソル周囲のみ装飾を残し、カクつきを低減

- 仕上げ時に全装飾を適用して見直し


* * *

## 既知の制約

- 大規模ファイルでは解析負荷が高くなる可能性あり

- 禁則処理は一部の組み合わせに限定


* * *

## ライセンス

MIT
